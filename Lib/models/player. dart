class Player {
  String name;
  String avatarPath;
  int level;
  int xp;
  int points;

  int strength;
  int intelligence;
  int vitality;
  int energy;
  int sense;

  bool shadowExtractionUnlocked;
  List<String> shadowArmy;

  Player({
    required this.name,
    required this.avatarPath,
    this.level = 1,
    this.xp = 0,
    this.points = 0,
    this.strength = 5,
    this.intelligence = 5,
    this.vitality = 5,
    this.energy = 5,
    this.sense = 5,
    this.shadowExtractionUnlocked = false,
    List<String>? shadowArmy,
  }) : shadowArmy = shadowArmy ?? [];

  void gainXP(int amount) {
    xp += amount;
    if (xp >= requiredXPForNextLevel()) {
      levelUp();
    }
  }

  void levelUp() {
    xp = 0;
    level += 1;
    points += 1;
    if (level == 20) {
      shadowExtractionUnlocked = true;
    }
  }

  int requiredXPForNextLevel() {
    return 100 + (level - 1) * 50;
  }

  void addShadow(String shadowName) {
    if (shadowExtractionUnlocked) {
      shadowArmy.add(shadowName);
    }
  }

  void resetStats() {
    strength = 5;
    intelligence = 5;
    vitality = 5;
    energy = 5;
    sense = 5;
    points = 0;
  }

  void increaseStat(String statName) {
    if (points <= 0) return;
    switch (statName) {
      case 'Strength':
        strength++;
        break;
      case 'Intelligence':
        intelligence++;
        break;
      case 'Vitality':
        vitality++;
        break;
      case 'Energy':
        energy++;
        break;
      case 'Sense':
        sense++;
        break;
    }
    points--;
  }
}
